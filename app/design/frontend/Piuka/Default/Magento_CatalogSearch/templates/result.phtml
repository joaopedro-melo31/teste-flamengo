<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
// @codingStandardsIgnoreFile

use Magento\CatalogSearch\Block\Result;

/** These changes need to valid applying filters and configuration before search process is started. */

/** @var $block  Result*/
$productList = $block->getProductListHtml();
$searchTerm = $block->getSearchQueryText()->getArguments()[0];
?>

<?php if ($block->getResultCount() <= 0): ?>
    <div class="page-title-wrapper">
        <h3 class="page-title"><span>O termo Buscado foi: <?= $searchTerm ?></span></h3>
    </div>
<?php endif; ?>

<?php if ($block->getResultCount()) : ?>
    <?= /* @noEscape */ $block->getChildHtml('tagged_product_list_rss_link') ?>
<div class="search results">
    <?php if ($messages = $block->getNoteMessages()) : ?>
    <div class="message notice">
        <div>
            <?php foreach ($messages as $message) : ?>
                <?= /* @noEscape */ $message ?><br />
            <?php endforeach; ?>
        </div>
    </div>
    <?php endif; ?>
    <?= /* @noEscape */ $productList ?>
</div>
<?php else : ?>

<div class="message-empty-search">
    <img src="<?= $this->getViewFileUrl('images/empty-search.png'); ?>" />
    <span class="subtitle-search-empty"><?= $block->escapeHtml(__('no items found')) ?></span>
    <p><?= $block->escapeHtml(__("We didn't find any items with the terms used in the search, but maybe you might like some of the highlights below")) ?></p>
    <?php echo $this->getLayout()->createBlock(\Magento\Cms\Block\Block::class)->setBlockId('slider-empty-search')->toHtml();?>
</div>
<?php endif; ?>

<script type="text/x-magento-init">
    {
        ".product-image-wrapper .product-image-photo": {
            "TheITNerd_UX/js/product/twoImages": {}
        }
    }
</script>
